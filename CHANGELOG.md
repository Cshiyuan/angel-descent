# 更新日志

本文档记录项目的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- 开源项目准备：添加 LICENSE、.gitignore、贡献指南等文件

## [1.0.0] - 2025-02-04

### 新增
- ✨ 完整的游戏核心玩法实现
- 🌅 四大天界主题系统（朝霞、云海、雷音、凡间）
- 🎯 七种平台类型（普通、易碎、移动、消失、冰块、弹跳、危险）
- 👤 玩家控制系统（触摸移动、生命值、状态管理）
- 🎨 完整的视觉效果系统
  - 粒子系统（60个背景粒子）
  - 动画管理器
  - 特效管理器
- 🎵 音效系统
  - 背景音乐
  - 7种游戏音效（着陆、受伤、收集等）
- 📱 Canvas 清晰度适配
  - 支持不同 pixelRatio 设备
  - 触摸坐标精确转换
  - 逻辑坐标系统统一
- ⚡ 性能优化
  - 对象池管理平台
  - 60fps 流畅运行
  - requestAnimationFrame 游戏循环
- 🎮 游戏系统
  - 程序化关卡生成
  - 游戏状态机（菜单、教程、游戏中、暂停、结束）
  - 摄像机跟随系统
  - 碰撞检测系统
- 🍎 道具系统
  - 生命果实（恢复生命值）
  - 随机生成机制
- 📊 UI系统
  - 主菜单界面
  - 游戏内HUD（生命值、分数、层数）
  - 教程覆盖层
  - 游戏结束界面
- 📝 完整的项目文档
  - 游戏设计文档
  - 开发指南（CLAUDE.md）
  - 微信小游戏适配文档

### 技术亮点
- 🏗️ 事件驱动架构（EventManager）
- 🎭 状态机模式（游戏状态管理）
- 🏊 对象池模式（性能优化）
- 🏭 工厂模式（对象创建）
- 📡 观察者模式（事件系统）
- 🎯 单例模式（全局管理器）

### 平台特性
- ✅ 微信小游戏原生 API
- ✅ wx.onTouchStart/Move/End 触摸事件
- ✅ Canvas 2D 渲染
- ✅ 竖屏布局适配
- ✅ 真机性能优化

### 修复
- 🐛 修复生命果实重复清理导致快速消失的问题
- 🐛 修复 Canvas 缩放后游戏元素位置错误
- 🐛 修复触摸坐标转换不准确的问题
- 🐛 修复动画帧管理导致的并发问题
- 🐛 修复平台对象池内存泄漏
- 🐛 修复音效播放频率过高的问题

### 已知问题
- 部分低端设备可能存在轻微卡顿
- 音效在某些设备上可能延迟

## [0.1.0] - 2025-01-XX

### 新增
- 🎮 初始项目框架搭建
- 📁 基础目录结构
- 🎨 基础渲染系统

---

## 版本说明

### 版本号规则
- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 更新类型说明
- `新增` - 新功能
- `修改` - 对现有功能的变更
- `弃用` - 即将移除的功能
- `移除` - 已移除的功能
- `修复` - Bug 修复
- `安全` - 安全性修复

---

[未发布]: https://github.com/Cshiyuan/angel-descent/compare/v1.0.0...HEAD
[1.0.0]: https://github.com/Cshiyuan/angel-descent/releases/tag/v1.0.0
[0.1.0]: https://github.com/Cshiyuan/angel-descent/releases/tag/v0.1.0
